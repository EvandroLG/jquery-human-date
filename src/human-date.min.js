(function(e,t){"use strict";var n={};n.init=function(t,n){this.options=e.extend({},e.fn.humanDate.defaults,n),this.element=t,this.vocabulary=e.fn.humanDate.vocabulary[this.options.idiom],this.getDateNow(),this.getDateParameter(),this.element.html(this.formatDate())},n.getVocabulary=function(){if(!(this.options.idiom in e.fn.humanDate.vocabulary))throw"Idiom invalid!";this.vocabulary=e.fn.humanDate.vocabulary[this.options.idiom]},n.getDateNow=function(){var e=new Date;this.yearNow=e.getFullYear(),this.monthNow=e.getMonth(),this.dayNow=e.getDate()},n.getDateParameter=function(){var e=new Date(this.options.date);this.yearParameter=e.getFullYear(),this.monthParameter=e.getMonth(),this.dayParameter=e.getDate()},n.getPluralOrSingular=function(e,t){var n=t>1,r=t+" "+this.vocabulary[n?e+"s":e];return r},n.getYear=function(e){var t=e>0,n="";return t&&(n=this.getPluralOrSingular("year",e)),n},n.getMonth=function(e,t){var n=e>0,r=t>0,i="";return n&&(t>0&&(i+=" "+this.vocabulary.and+" "),i+=this.getPluralOrSingular("month",e)),i},n.getDay=function(e,t,n){var r=t>0,i=n>0,s=e>0&&(!i||!r),o="";if(s){if(i||r)o+=" "+this.vocabulary.and+" ";o+=this.getPluralOrSingular("day",e)}return o},n.getToday=function(e,t,n){var r=e===0&&t===0&&n===0,i="";return r&&(i=this.vocabulary.now),i},n.formatDate=function(){var e=this.yearNow-this.yearParameter,t=e>0,n=this.monthNow-this.monthParameter,r=n>0,i=this.dayNow-this.dayParameter,s=i>0&&(!t||!r),o=this.getToday(e,n,i);return o||(o+=this.getYear(e),o+=this.getMonth(n,e),o+=this.getDay(i,n,e),o+=" "+this.vocabulary.ago),o},e.fn.humanDate=function(t){return this.each(function(){n.init(e(this),t)})},e.fn.humanDate.defaults={date:new Date,idiom:"enUs"},e.fn.humanDate.vocabulary={},e.fn.humanDate.vocabulary.enUs={year:"year",years:"years",month:"month",months:"months",and:"and",day:"day",days:"days",ago:"ago",now:"Now"}})(jQuery,window);